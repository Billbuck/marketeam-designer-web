<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Éditeur VDP - Multi-Zones</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <div class="app-container">
        
        <div class="toolbar">
            <h2>Outils</h2>
            <button id="btn-add-zone" class="btn-primary">
                <span class="material-icons">add_box</span> Ajouter une zone de texte
            </button>
            <button id="btn-add-qr" class="btn-primary">
                <span class="material-icons">qr_code_2</span> Ajouter un QR Code
            </button>
            <button id="btn-delete-zone" class="btn-danger" disabled>
                <span class="material-icons">delete</span> Supprimer Zone
            </button>
            <button id="btn-reset" class="btn-danger">
                <span class="material-icons">restart_alt</span> Réinitialiser
            </button>
            <hr>
            <button id="btn-generate-json" class="btn-success">
                <span class="material-icons">code</span> Générer JSON
            </button>
            <hr>
            <h3 style="margin: 10px 0 5px 0; font-size: 14px; color: #555;">Zoom</h3>
            <div class="zoom-controls" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                <button id="btn-zoom-out" class="btn-primary" style="padding: 5px 10px; min-width: 40px;">
                    <span class="material-icons" style="font-size: 18px;">remove</span>
                </button>
                <input type="range" id="zoom-slider" min="25" max="200" value="100" step="5" style="flex: 1;">
                <button id="btn-zoom-in" class="btn-primary" style="padding: 5px 10px; min-width: 40px;">
                    <span class="material-icons" style="font-size: 18px;">add</span>
                </button>
            </div>
            <div style="text-align: center; font-size: 12px; color: #666;">
                <span id="zoom-value">100%</span>
            </div>
            <div style="text-align: center; font-size: 10px; color: #999; margin-top: 5px;">
                Ctrl + Molette pour zoomer
            </div>

<div class="coordinates-panel" id="coords-panel" style="opacity: 0.5; pointer-events: none;">
    <h3>Propriétés de la Zone</h3>
    <p class="selection-info">Sélection : <strong id="lbl-selected-zone">Aucune</strong></p>
    
    <hr>

    <div class="input-group">
        <label>Contenu du texte (avec balises {{...}})</label>
        <!-- Liste des champs de fusion -->
        <div id="merge-fields-list" class="merge-fields-container"></div>
        <textarea id="input-content" rows="3" placeholder="Ex: Cher {{NOM}},"></textarea>
    </div>

    <div class="style-row">
        <div class="input-group half">
            <label>Police (Google)</label>
            <select id="input-font">
                <option value="Roboto">Roboto</option>
                <option value="Open Sans">Open Sans</option>
                <option value="Lato">Lato</option>
                <option value="Montserrat">Montserrat</option>
                <option value="Courier Prime">Courier (Type machine)</option>
            </select>
        </div>
        <div class="input-group half">
            <label>Taille (pt)</label>
            <input type="number" id="input-size" value="12">
            <div style="margin-top: 5px;">
                <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; font-size: 11px;">
                    <input type="checkbox" id="chk-copyfit"> Ajuster auto.
                </label>
            </div>
        </div>
    </div>

    <div class="style-row">
        <div class="input-group half">
            <label>Interlignage</label>
            <input type="number" id="input-line-height" value="1.2" step="0.1" min="0.5" max="3.0">
            <small style="color: #999; font-size: 10px;">Multiplicateur (ex: 1.2 = 120%)</small>
        </div>
    </div>

    <div class="style-row">
        <div class="input-group half">
            <label>Couleur Texte</label>
            <input type="color" id="input-color" value="#000000" style="height: 30px; padding: 2px;">
        </div>
        <div class="input-group half">
            <label>Couleur Fond</label>
            <div style="display: flex; gap: 5px; align-items: center;">
                <input type="color" id="input-bg-color" value="#ffffff" style="height: 30px; padding: 2px; flex-grow: 1;">
                <input type="checkbox" id="chk-transparent" checked title="Fond transparent"> <small>Transp.</small>
            </div>
        </div>
    </div>

    <div class="style-row">
        <div class="input-group half">
            <label>Alignement Horizontal</label>
            <select id="input-align">
                <option value="left">Gauche</option>
                <option value="center">Centré</option>
                <option value="right">Droite</option>
                <option value="justify">Justifié</option>
            </select>
        </div>
        <div class="input-group half">
            <label>Alignement Vertical</label>
            <select id="input-valign">
                <option value="top">Haut</option>
                <option value="middle">Milieu</option>
                <option value="bottom">Bas</option>
            </select>
        </div>
    </div>

    <div class="style-row">
        <div class="input-group">
            <label class="switch-container">
                <div class="switch">
                    <input type="checkbox" id="chk-lock">
                    <span class="slider"></span>
                </div>
                <span class="switch-label">Verrouiller la position et la taille</span>
            </label>
        </div>
    </div>

    <hr>

    <h4>Géométrie (mm)</h4>
    <div class="style-row">
        <div class="input-group half">
            <label>X</label>
            <input type="text" id="val-x" readonly>
        </div>
        <div class="input-group half">
            <label>Y</label>
            <input type="text" id="val-y" readonly>
        </div>
    </div>
    <div class="style-row">
        <div class="input-group half">
            <label>Largeur</label>
            <input type="text" id="val-w" readonly>
        </div>
        <div class="input-group half">
            <label>Hauteur</label>
            <input type="text" id="val-h" readonly>
        </div>
    </div>
</div>
			
			
			
			
        </div>

        <div class="workspace">
            <div class="workspace-canvas">
                <div id="a4-page">
                    <img src="a4_template.jpg" alt="Fond A4" id="a4-background">
                </div>
            </div>
        </div>

    </div>

    <!-- Modale de confirmation personnalisée -->
    <div id="confirmation-modal" class="modal-overlay hidden">
        <div class="modal-box">
            <div class="modal-header">
                <span class="material-icons" style="color: #ea4335;">warning</span>
                <h3>Confirmation de suppression</h3>
            </div>
            <div class="modal-body">
                <p>Êtes-vous sûr de vouloir supprimer cette zone ?</p>
                <p class="sub-text">Cette action est irréversible.</p>
            </div>
            <div class="modal-buttons">
                <button id="btn-modal-cancel" class="btn-secondary">Annuler</button>
                <button id="btn-modal-confirm" class="btn-danger">Supprimer</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>